下面这份你可以直接丢给 Claude 当“规划稿/系统设计说明”。我按 **FAIRY-DESK = 三联屏网页化指挥桌面 + Agent** 的思路写，重点是“先求有再求好”，把**氛围层**先稳定跑起来；更硬核的 HLIG / 大索引当作后续可选模块。

---

## FAIRY-DESK 系统架构与功能规划（给 Claude 用）

### 0) 定位与边界

**定位**：个人/小团队的“网页化三联屏情报桌面（Personal NOC / OSINT Wallboard）”，用最小同步成本把 **摄像头态势 / 仪表盘+终端 / 信息瀑布流 / 地图定位 / Agent** 拼成一个长期可用的指挥台。
**边界**：只接入你有权限/合法来源的数据（公开 API、RSS、公开网页、你授权的摄像头/自建服务日志）。不做任何未授权扫描、入侵、绕过平台限制的抓取。

---

## 1) 三联屏版面（UI 视图层）

### 左屏：态势画面（可切换）

* **CCTV 九宫格/16 格**（来源：自有摄像头、你授权的公共摄像头聚合页、或合法的公开视频源）
* **Vtuber/直播窗口**（可选：氛围/背景噪音/人类感）
* 快捷切换：`CCTV` ↔ `Live` ↔ `Other`

### 中屏：控制台（主控）

* 上半：**仪表盘**（系统健康/网络/抓取队列/告警计数/今日事件）
* 下半：**Terminal / Log Console**
* 右侧可浮窗：**Agent Chat（Claude Code / 其他 Agent）**
* 中屏是“中央桌面”：必要时开 IDE、PS、剪辑、Matlab 等（但不要破坏 wallboard 的常驻）

### 右屏：情报视窗（两种常用形态）

* 形态 A（三栏瀑布流）：

  1. 社媒/评论流（例如 X、Reddit、论坛、Telegram 频道等——用官方/合规方式）
  2. 新闻/股指/行情（RSS + 金融数据源）
  3. 告警/日志流（系统告警、抓取异常、关键字命中）
* 形态 B（地图定位）：

  * Google Maps / Mapbox / OpenStreetMap
  * 叠加：摄像头点位 / 事件点位 / 任务路径（可选）

> 关键原则：**每一屏就是一个全屏网页**（或同一网页的不同路由），把同步和卡顿问题降到最低。

---

## 2) 总体架构（模块分层）

可以按“三层 + 一条总线”理解：

### A) 展示层（Wallboard UI）

* **Wallboard Web App（前端）**

  * 三联屏布局（左/中/右可配置）
  * 每个“卡片/窗口”是一个 widget（iframe / embed / 原生组件）
  * 统一主题：赛博/动漫风（非功能但强体验）
  * “一键切换场景”：OSINT 模式 / 地图模式 / 直播模式 / 工作模式

### B) 数据层（Collectors / Feeds）

* **Feed Collectors（采集器）**：把各种来源变成统一的“事件流”

  * RSS/Atom 采集（新闻、博客、公告）
  * Webhook 接入（自建服务、GitHub、CI、监控告警）
  * 社媒聚合（优先官方 API；不行就用“打开网页全屏 + 关键字高亮/筛选”这种轻方案）
  * CCTV/视频源：只接入你授权的源，统一成可嵌入播放地址/页面

### C) 控制层（Agent & Ops）

* **Agent Gateway（Agent 接入层）**

  * Claude Code：负责“执行类任务”（整理文件、写脚本、生成报告、做排障 checklist）
  * Chat Agent：负责“解释与决策”（把告警翻译成人话、给下一步动作）
* **Ops Console（运维控制）**

  * 任务队列状态、采集器健康、失败重试、速率限制、密钥状态

### Bus) 事件总线（Event Bus）

* **Event Stream（统一事件流）**

  * 所有采集结果、告警、手工标注都进入事件流
  * UI 只订阅事件流来更新（避免每个 widget 自己乱拉）

---

## 3) 核心功能清单（MVP → V1 → V2）

### MVP（先求有：1–3 天能跑起来）

1. **三联屏 wallboard 网页**

   * 左：CCTV 九宫格页面（哪怕只是聚合链接）
   * 中：Grafana/简单仪表盘 + 网页终端（ttyd/wetty）或本地终端窗口
   * 右：三栏网页（X 首页/列表、新闻网页、日志网页）
2. **场景切换**

   * OSINT（三栏）/ 地图 / 直播 / 工作
3. **最小告警**

   * 关键字命中计数 + 简单通知（网页红点/声音/Telegram bot 可选）

> MVP 的本质：你说的“停车场那种多网页拼墙”，但更好看、更可配置。

### V1（开始变“系统”：可持续运转）

4. **统一事件模型**

   * 事件字段：`time / source / type / severity / title / content / link / tags`
5. **采集器服务化**

   * RSS 定时拉取、Webhook 接入、日志推送
6. **告警规则**

   * 关键字/正则、频率突增、来源异常、采集失败率阈值
7. **数据落地**

   * 轻量：SQLite/Postgres 存事件
   * 支持：搜索、回放、按标签过滤
8. **权限与审计**

   * 本地登录、只读模式、操作日志

### V2（进阶：更像“银狼”的桌面）

9. **实体与关联（轻量 OSINT 图谱）**

   * 人名/组织/域名/关键词之间的关联图（别上来就 HLIG）
10. **地图叠加与时间轴**

* 事件点位 + 时间滑条回放

11. **Agent 工作流**

* 一键“生成日报/周报”
* 一键“对某个告警做排障 SOP”
* 一键“把 10 条事件总结成 3 条结论 + 风险等级”

### HLIG（你的研究模块，独立挂载）

* 作为“未来的底层拓扑模型/索引增强”，先不阻塞 FAIRY-DESK 的落地
* 接口形态：给事件流打 embedding + 做谱分析/聚类/异常检测，然后回写 `cluster_id / anomaly_score` 到事件表

---

## 4) 组件建议（实现路线，不绑定具体厂牌）

### 前端（Wallboard）

* 单页应用：React/Vue/Svelte 都行
* 布局：三列栅格 + widget 系统
* Widget 类型：

  * iframe embed（最快）
  * 原生 feed list（事件流）
  * 图表（仪表盘）
  * 地图（Mapbox/Leaflet）

### 后端（事件与采集）

* API：一个轻量服务（FastAPI/Express）
* Scheduler：Cron/内置调度
* Queue（可选）：Redis + 简单队列
* Storage：SQLite（MVP）→ Postgres（V1）
* Event Bus：

  * MVP：后端轮询/长轮询
  * V1：WebSocket/SSE

### 监控与仪表盘

* MVP：Grafana（直接用）
* V1：Prometheus/Node exporter 或你熟的栈

### Agent 接入

* Claude Code：当“可执行协作者”
* 方式：在中屏给一个固定入口（快捷指令面板 + 对话窗口）
* 关键：Agent **只处理你授权的本地文件/服务**，不要默认“全盘接管”

---

## 5) 关键非功能需求（决定体验是否像动漫）

1. **启动速度**：开机 30 秒内三屏可用
2. **低维护**：日常维护 < 5 分钟（自动重连、失败重试、源不可用要有占位）
3. **低同步成本**：尽量“每屏一个网页”，避免多进程互相等
4. **可替换性**：任何一块坏了不影响其它块（模块化解耦）
5. **速率与合规**：社媒/新闻抓取必须尊重 ToS，尽量走 RSS/官方 API/手动页面
6. **隐私与安全**：密钥隔离、最小权限、访问审计、别把私人数据推到公共屏幕上

---

## 6) 对应到“你示意图”的一一映射（给 Claude 画图用）

* 左屏 = `Situational Display`

  * `Camera Wall Widget` + `Live Widget`（切换）
* 中屏 = `Ops Console`

  * `Dashboard Widget` + `Terminal Widget` + `Agent Widget`
* 右屏 = `Intel Display`

  * `Social Feed Widget` + `News/Market Widget` + `Alert Feed Widget`
  * 或 `Map Widget`

---

## 7) Claude 可以按这个拆任务（建议工期切块）

* T0：做出三联屏前端骨架 + 场景切换（纯静态也行）
* T1：接入“事件流 API” + 右屏原生 feed（别全靠 iframe）
* T2：RSS collector + webhook + 最小告警
* T3：落地存储 + 搜索 + 回放
* T4：Agent 面板接入 + 一键生成报告

---

如果你愿意，我还能再给你补一张“文字版架构图”（ASCII/mermaid 风格）方便你直接贴给 Claude；以及一份 **MVP 的最小组件清单**（哪些用现成网页/哪些要自己写）让它更快开工。

好，我们就用你这套“模拟拓扑”的语言，把 **四个**（我按你主线最核心的四个来：**GFW / XKeyscore / HLIG / FAIRY-DESK**）画成同一张“拓扑生态图”——你会看到它们分别像：**边界场、观测丛、谱骨架、与桌面截面**。

> 下面全是“形状与算子层级”的描述，不涉及任何可操作的攻击/监控实现细节。

---

## 统一坐标系：四者都住在同一个七元组框架里

我们先固定：

* 基底流形：(\mathcal M)（网络时空：节点/路径/时间窗/协议情境）
* 纤维丛：(\mathcal F=(E,\pi,\mathcal M))（每个点挂着信息态、语义态、风险态、权限态…）
* 模拟拓扑向量：(\vec A(x)=\big(a_1(x),a_2(x),\dots\big))（多尺度分量：采集、索引、关联、异常、控制…）
* 嵌套子丛：(\mathcal S={V_0\supset V_1\supset\cdots})（从粗到细：国家级/AS级/站点级/页面级/实体级…）
* 联络：(\nabla)（跨尺度“平行运输”：同一个对象在不同尺度保持同一性）
* 涨落：用 SDE 的噪声项 (\sigma,dW) 表示“突发/热点/断链/规避/误报”等

接下来四个系统，就是 **在同一 ((\mathcal M,\mathcal F,\vec A,\nabla,\mathcal S))** 上，各自选择不同的“主算子”。

---

## 1) GFW：像一个“边界势场 + 投影算子”的系统

**它的核心不是“看见”，而是“塑形可达性”。**

### 它在模拟拓扑里长这样

* **主算子：边界/裁决投影**
  [
  \Pi_{\text{policy}}:(x,A)\mapsto (x',A')\quad\text{使得 }x'\in \mathcal M_{\text{allow}}(t)
  ]
* **纤维态的关键分量**

  * (a_{\text{route}})：路径可达性/重路由
  * (a_{\text{latency}})：延迟/抖动（典型涨落信号）
  * (a_{\text{reset}})：连接稳定性（断链/重置）
* **嵌套子丛 (\mathcal S) 的风格**

  * 典型是 **“从粗粒度策略到细粒度识别”的分段边界**：先按域/协议/模式粗切，再对局部异常点加更强约束
* **涨落长相**

  * 它的涨落不是“内容波动”，而是 **通达性波动**：同一对象在相邻时间窗的可达性 (A(x,t)) 出现非平稳跳变（噪声项显著）

一句话：**GFW 是 (\mathcal M) 上的“可行域工程”——把互联网流形剪成可通行子流形。**

---

## 2) XKeyscore：像一个“观测拉起共切丛（可检索轨迹）”的系统

**它的核心不是“挡”，而是“把痕迹变成可检索的轨迹”。**

### 它在模拟拓扑里长这样

* **主算子：观测映射 + 索引化**
  [
  \mathcal O:(x,A)\mapsto z \in \mathcal Y,\quad z=\text{index-keys / features / links}
  ]
  你可以把 (\mathcal Y) 理解成“可检索空间”（搜索坐标系），而不是原始网络空间。
* **联络 (\nabla) 的关键：同一性保持**

  * 真正难的是：让“同一对象/同一人/同一会话”在不同尺度、不同来源、不同时间窗里 **平行运输仍然同一**
    [
    \nabla:\ V_i \to V_{i+1}\quad \text{保持实体/关系的可追踪不变量}
    ]
* **嵌套子丛 (\mathcal S) 的风格**

  * **从流量/元数据 → 会话 → 实体 → 关系图** 的层层抽取
* **涨落长相**

  * 它更关心 **“信号-噪声的涨落”**：热点涌现、关系突然变稠、异常关联突增——对应 (\sigma_i dW_i) 在某些尺度分量上变大

一句话：**XKeyscore 是把 ((\mathcal M,\mathcal F)) 拉到一个“可搜索的观察空间 (\mathcal Y)”里，做全局可检索截面。**

---

## 3) HLIG：像一个“谱骨架（拉普拉斯）在多尺度子丛上的稳定器”

**它的核心是：用谱量（例如 Fiedler 值、谱能量、谱间隙）当“涨落仪表”。**

### 它在模拟拓扑里长这样

* **主对象：随时间变的图拉普拉斯 (L(t))**
  [
  L(t)=D(t)-W(t)
  ]
  其中 (W(t)) 是你定义的相似度/连接权重（内容、链接、传播、共同出现…都能成为“边”）
* **主观测量：谱涨落**
  [
  \lambda_2(t),\ \text{spectral gap},\ |\Delta L(t)|
  ]
  这些就是你的“涨落计”——当网络结构发生断裂、分群、瓶颈、异常聚合时，它会非常敏感。
* **嵌套子丛 (\mathcal S) 的风格**

  * 多尺度子图 (G_i) 对应 (V_i)，每一层都有自己的 (L_i(t))，再用全息映射/汇聚映射把局部谱量压成全局指标
* **联络 (\nabla) 的风格**

  * 关键是“尺度一致性”：让不同尺度上的谱量可以比较、可对齐（否则你没法做全局态势）

一句话：**HLIG 是“结构涨落的物理仪表盘”——它不等于监控系统本体，而是监控系统的数学骨架与告警依据。**

---

## 4) FAIRY-DESK：像一个“观察截面拼装器（把多个 (\Phi) 合成一个可用的截面）”

**它的核心不是更强的算法，而是：把观察映射组织成“可持续使用”的桌面化截面。**

### 它在模拟拓扑里长这样

* **主算子：截面选择**
  你三屏本质是在选三条映射（或三条观测切片）：
  [
  \Phi_{\text{left}}:\mathcal M\to \mathcal Y_{\text{vision}}\quad
  \Phi_{\text{mid}}:\mathcal M\to \mathcal Y_{\text{ops}}\quad
  \Phi_{\text{right}}:\mathcal M\to \mathcal Y_{\text{intel}}
  ]

  * 左屏：视觉态势（摄像头/直播/地图都属于 (\mathcal Y_{\text{vision}})）
  * 中屏：操作与执行态（仪表盘+终端+Agent 协作）
  * 右屏：信息流态（新闻/社媒/告警流）
* **它的“涨落”是什么**

  * 不是互联网本身的涨落，而是 **你的注意力与决策负载的涨落**
  * 好的 FAIRY-DESK 让 (|\vec A_{\text{cognitive}}(t)|) 更平稳：告警集中、噪声被过滤、关键变化更早出现
* **联络 (\nabla) 在这里的意义**

  * 把“看见 → 判断 → 下指令 → 回写日志/状态”串成低摩擦闭环（你前面叫 OPU 思维也完全贴合）

一句话：**FAIRY-DESK 是“把复杂系统的观察映射做成可用界面”的工程——它是截面，不是深层爬虫本体。**

---

## 把四个放在一张模拟拓扑关系图里

* **GFW**：在 (\mathcal M) 上改“可达性几何”（边界/势场/投影）
* **XKeyscore**：从 ((\mathcal M,\mathcal F)) 拉起到 (\mathcal Y) 做“可检索几何”（观测/索引/同一性联络）
* **HLIG**：给 ((\mathcal M,\mathcal F)) 加一个“结构涨落测量层”（谱量做告警）
* **FAIRY-DESK**：把多个 (\Phi) 拼成“人可用的截面”（注意力-决策闭环）

---

如果你说的“四个”其实是 **Maltego / OSINT Framework / SpiderFoot / NOC** 那组，我也能用同一套模拟拓扑把那四个画出来（那一组更像“工具链与工作流的纤维丛拼装”，跟上面这组的“国家级边界/观测几何”气质不同）。你要我把两组都画在同一张“模拟拓扑谱系图”里吗？

好，那我把你要发给 Claude 的那份“FAIRY-DESK 架构+功能规划”（带**防工厂化边界**）直接给你一版，可复制粘贴。

---

## FAIRY-DESK（妖精桌面情报台）系统架构与功能规划（给 Claude）

### 0. 定位与原则

**定位**：三联屏“网页全屏”个人情报桌面＝氛围层 + 可用性层（轻量 NOC/OSINT 桌面）。
**核心原则**：

* **桌面不是平台**：FAIRY-DESK 只负责“展示 + 统一事件流 + 轻量告警”，不做全网知识库。
* **三屏常驻上限**：左/中/右三屏为“常驻面板”，其它一律算“临时任务视图”。
* **一切高级能力外接**：图谱/语义检索/大规模爬虫/谱分析（HLIG）都作为外部服务输出结果，桌面只订阅结果。

---

### 1. 三联屏布局（默认场景）

**左屏：态势墙（多格 CCTV / Vtuber / 任一视频源）**

* 9/16 宫格切换，支持单路放大
* 视频源可以是公开摄像头网站/自家摄像头/直播平台/回放
* 可选叠加：时间、地点、状态灯（在线/离线）

**中屏：控制台（上仪表盘 + 下终端 + Agent）**

* 上半：总览仪表盘（系统状态、任务队列、告警摘要、今日事件量）
* 下半：Terminal（SSH/本机/容器）+ 旁路小窗（Claude Code / Agent 指令区）
* 中屏是“中央桌面”：允许临时打开 PS/剪辑/IDE/Matlab，但不改变架构

**右屏：信息瀑布流 / 地图（二选一或上下分区）**

* 三栏瀑布流：

  1. X/Twitter（主页或列表）
  2. 新闻/股指/加密行情（网页组件）
  3. 日志/告警流（FAIRY-DESK 事件流渲染）
* 或卫星地图定位：Google Maps/卫星图 + 摄像头点位/事件点位

---

### 2. 系统分层架构（模块化）

**A. UI 层（Dashboard Shell）**

* 纯 Web：一个“壳页面”负责布局（3 屏 + 组件槽位）
* 组件全部 iframe/embed，避免多程序不同步和卡顿

**B. 事件总线层（Event Bus / Feed Aggregator）**  ← 核心

* 统一事件结构（最小字段集）：

  * `time, source, type, severity, title, link, tags, payload(optional)`
* 输入：RSS/日志文件/Webhook/脚本输出/API 拉取
* 输出：WebSocket/SSE 给右屏告警流 + 给中屏仪表盘统计

**C. 采集适配层（Connectors）**

* CCTV/视频：只负责把“可观看链接/嵌入”交给 UI（不做视频处理）
* RSS/新闻：拉取→去重→生成事件
* 社媒：先用“网页现成流”作为氛围层（X 主页/列表），后续如需结构化再做外接采集器
* 系统日志：本机/服务器日志→解析→事件
* 手动输入：一键记录“线索事件”（手动标注）

**D. 告警层（Alerting）**

* 简单规则：关键词、频率阈值、来源白名单、静默窗口
* 告警级别：info/warn/critical
* 告警动作（最小化）：通知（桌面弹窗/声音）+ 写入事件流

> 禁止在 MVP 做“自动处置/自动封禁/自动攻击”这种高风险动作

**E. Agent 层（Claude Code / 本地 Agent）**

* 角色：**把“操作成本”降下来**（例如：生成脚本、整理日志、写规则、改布局配置）
* Agent 不直接接管核心数据；只通过“任务接口”提交改动（可回滚）

---

### 3. 功能清单（按优先级）

**MVP 必做**

1. 三屏布局壳（可配置 URL / iframe）
2. 事件总线：统一事件格式 + WebSocket/SSE 推送
3. 日志/告警流：右屏实时滚动（去重/折叠/高亮）
4. 总览仪表盘：事件量、告警数、来源占比、最近 critical
5. 一键“场景切换”：CCTV 模式 / 地图模式 / 瀑布流模式

**V1 增强**
6) 摄像头点位与地图联动（点位→打开对应摄像头格）
7) 线索盒（Bookmark/待处理事件队列）
8) 规则编辑器（网页配置规则，热加载）

**V2 外接（明确不内建进核心）**
9) HLIG/图谱/语义搜索（外部服务产出“热点/异常/聚类结果”→以事件形式订阅）
10) OSINT 工具链（SpiderFoot/Maltego 等）结果导入为事件

---

### 4. 防工厂化边界（硬约束）

* **常驻面板上限 3**：任何新东西必须替换旧槽位，而不是新增槽位
* **事件字段冻结**：新增字段要走版本化，不允许随意扩展导致混乱
* **不做全网爬虫/索引**：FAIRY-DESK 不负责“采全网”，只负责“订阅你选择的数据源”
* **不做自动处置**：告警只提示，处置由人/外部系统执行
* **模块可拔插**：拔掉任何一个 connector，桌面仍能运行

---

### 5. 技术实现建议（最省事路线）

* UI：静态网页 + 配置文件（JSON/YAML）定义三屏 URL 与布局
* 事件总线：一个轻量服务（Python/FastAPI 或 Node）
* 推送：SSE 或 WebSocket
* 采集：脚本定时跑（cron）或 webhook 推送
* 数据存储：MVP 可以只存最近 N 条（内存/SQLite），别上大数据库

---

### 6. 成功判据（你要的“先求有再求好”）

* 10 分钟内能启动：打开三个全屏网页就能“像动漫一样跑起来”
* 右屏告警流能稳定滚动，不崩、不乱序
* 一周后仍可持续使用：维护成本低、不会越用越重

---

如果你要我再补一段“给 Claude 的任务拆分（Issue 列表）”，我也可以直接按 MVP→V1→V2 切成 15～20 个小任务，保证不会又走向 APT 那种“开局就造工厂”。

对，你这句话其实把整件事“一刀切到骨头上”了——我发现的是：

**我们一直以为在造四台机器，其实是在给同一块屏幕补齐四个“显示子系统”。**
所以它们看起来像四个巨物，但本质是同一条渲染管线的不同环节：**边界、取样、结构度量、桌面合成**。

把你那句“全数流形=动态、模拟拓扑=结构”接上去，结论会变得非常清晰：

---

## 我发现了什么：情报不是“数据”，是“渲染出来的可判读画面”

你说的“情报就是它们共同渲染出来的画面”——这句等价于一个更硬的表述：

> **情报 = 对同一个世界状态 (S(t)) 的一个可视化截面 (\Sigma(t))**
> 其中 (\Sigma(t)) 不是自然存在的，它是被一组算子共同“渲染”出来的。

也就是说，所谓“万能搜索”“全网掌控”“黑科技”，很多时候只是**把渲染链条做完整**，再用华丽 UI 把它放大成神话。

---

## 这四个在你的框架里，刚好对应“显示器四组件”

你给的比喻非常准，我把它落成一组一眼能记住的对照：

### 1) GFW = 屏幕的“背光/亮度开关”

决定你**能不能看见**、看见多少、哪些区域直接黑屏。
它不是在画内容，是在改“可见域”。

### 2) XKeyscore = “分辨率 + 像素采样阵列”

决定你**能把什么采进来**，采样粒度到哪里，能否把碎片拼成轨迹。
它不是内容本身，是把世界采样成可检索的像素。

### 3) HLIG = “对比度/边缘增强/结构度量”

决定画面里**结构是否凸显**：哪里是边界、哪里是热点、哪里断裂。
它做的是“让变化有形”。

### 4) FAIRY-DESK = “屏幕本体 + 窗口合成器”

把前面三种信号变成**人可以盯着看的画面**，并让你能用最小摩擦做决策回路。
它不是更强算法，是把渲染输出变成可用界面。

---

## 真正的“简化”：这四个合起来是一条渲染管线，不是四个帝国系统

用你自己的语言总结就是：

* **全数流形（HM）**告诉你：世界的状态在怎么流、怎么变（动态）。
* **模拟拓扑（Sim-Topo）**告诉你：你如何把世界切片、上丛、嵌套、做联络（结构）。
* **四系统**只是把“结构 + 动态”变成一个可观看、可判据、可操作的**渲染输出**。

所以你看到的“黑科技感”，很多来自：

* UI 的戏剧化（绿字瀑布流、全屏地图、九宫格摄像头）
* 叙事剪辑把“数小时的日志/检索/协作”压缩成“3 秒出结论”
* 以及观众默认把“可视化”误当成“全知”

---

## 最狠的结论

**复杂的不是“情报墙”，而是“你以为墙后面一定有神”。**
当你把它还原成显示系统：亮度/分辨率/对比度/合成器——神话立刻坍缩成工程。

而这正是你说的“祛魅”：
你不是没做出恶龙屠龙剑，你是发现**屠龙剑其实是一套显示栈**——酷，且可持续迭代。

如果你愿意，我下一步可以把这条“渲染管线”写成一张极简架构（输入→采样→结构度量→合成→告警→执行回写），给 Claude 直接当 FAIRY-DESK 的总蓝图。